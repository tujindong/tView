!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define("form-item",["vue"],t):"object"==typeof exports?exports["form-item"]=t(require("vue")):e["form-item"]=t(e.vue)}(window,(function(e){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=615)}({0:function(e,t){e.exports=require("core-js/modules/es6.object.define-property.js")},1:function(e,t,r){"use strict";function i(e,t,r,i,n,o,a,u){var s,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=s):n&&(s=u?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),s)if(l.functional){l._injectStyles=s;var f=l.render;l.render=function(e,t){return s.call(t),f(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:l}}r.d(t,"a",(function(){return i}))},10:function(e,t){e.exports=require("core-js/modules/web.dom.iterable.js")},11:function(e,t){e.exports=require("core-js/modules/es6.string.iterator.js")},12:function(e,t){e.exports=require("core-js/modules/es6.regexp.split.js")},13:function(e,t){e.exports=require("core-js/modules/es6.regexp.replace.js")},14:function(e,t){e.exports=require("core-js/modules/es6.array.is-array.js")},15:function(e,t){e.exports=require("core-js/modules/es6.array.slice.js")},16:function(e,t){e.exports=require("core-js/modules/es6.array.filter.js")},17:function(e,t){e.exports=require("core-js/modules/es6.object.keys.js")},19:function(e,t){e.exports=require("core-js/modules/es6.regexp.match.js")},2:function(e,t){e.exports=require("core-js/modules/es6.function.name.js")},20:function(e,t,r){var i,n,o;r(0),r(8),r(11),r(9),r(10),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(12),r(13),r(14),r(5),r(4),r(19),r(7),r(15),r(6),r(17),r(3),r(23)],void 0===(o="function"==typeof(i=function(e,t,r,i,n,o,a,u,s,l,f,d,c){"use strict";function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h;Object.defineProperty(e,"__esModule",{value:!0}),e.generateId=e.escapeRegexpString=e.coerceTruthyValueToArray=e.capitalize=e.autoprefixer=e.arrayFindIndex=e.arrayFind=e.arrayEquals=void 0,e.getPropByPath=function(e,t,r){for(var i=e,n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,a=n.length;o<a-1&&(i||r);++o){var u=n[o];if(!(u in i)){if(r)throw new Error("please transfer a valid prop path to form item!");break}i=i[u]}return{o:i,k:n[o],v:i?i[n[o]]:null}},e.getValueByPath=void 0,e.hasOwn=function(e,t){return v.call(e,t)},e.looseEqual=e.kebabCase=e.isIE=e.isFirefox=e.isEqual=e.isEmpty=e.isEdge=void 0,e.noop=function(){},e.objToArray=function(e){return Array.isArray(e)?e:j(e)?[]:[e]},e.oneOf=function(e,t){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1},e.rafThrottle=function(e){var t=!1;return function(){for(var r=this,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(i){e.apply(r,n),t=!1})))}},e.toObject=function(e){for(var t={},r=0;r<e.length;r++)e[r]&&m(t,e[r]);return t},e.valueEquals=void 0,d=(h=d)&&h.__esModule?h:{default:h};var v=Object.prototype.hasOwnProperty;function m(e,t){for(var r in t)e[r]=t[r];return e}e.getValueByPath=function(e,t){for(var r=(t=t||"").split("."),i=e,n=null,o=0,a=r.length;o<a;o++){var u=r[o];if(!i)break;if(o===a-1){n=i[u];break}i=i[u]}return n},e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var r=0;r!==e.length;++r)if(e[r]!==t[r])return!1;return!0},e.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var y=function(e,t){for(var r=0;r!==e.length;++r)if(t(e[r]))return r;return-1};e.arrayFindIndex=y,e.arrayFind=function(e,t){var r=y(e,t);return-1!==r?e[r]:void 0},e.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},e.isIE=function(){return!d.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!d.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!d.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(e){if("object"!==p(e))return e;var t=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(r){var i=e[r];r&&i&&t.forEach((function(t){e[t+r]=i}))})),e},e.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},e.capitalize=function(e){return(0,c.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e};var b=function(e,t){var r=(0,c.isObject)(e),i=(0,c.isObject)(t);return r&&i?JSON.stringify(e)===JSON.stringify(t):!r&&!i&&String(e)===String(t)};e.looseEqual=b;var g=function(e,t){if(t=t||[],(e=e||[]).length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!b(e[r],t[r]))return!1;return!0};e.arrayEquals=g,e.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?g(e,t):b(e,t)};var j=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1};e.isEmpty=j})?i.apply(t,n):i)||(e.exports=o)},21:function(e,t){e.exports=require("core-js/modules/es6.array.map.js")},212:function(e,t,r){"use strict";r.r(t);var i=r(213),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t.default=n.a},213:function(e,t,r){var i,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(43),r(4),r(13),r(14),r(0),r(7),r(21),r(16),r(617),r(618),r(22),r(20),r(27)],void 0===(o="function"==typeof(i=function(e,t,r,i,n,o,a,u,s,l,f,d,c,p){"use strict";function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=h(l),f=h(f),d=h(d),p=h(p);var v={name:"TuFormItem",componentName:"TuFormItem",mixins:[d.default],provide:function(){return{tuFormItem:this}},inject:["tuForm"],components:{LabelWrap:f.default},props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},computed:{form:function(){for(var e=this.$parent,t=e.$options.componentName;"TuForm"!==t;)"TuFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var r=this.labelWidth||this.form.labelWidth;return"auto"===r?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.tuForm.autoLabelWidth):e.marginLeft=r,e},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every((function(e){return!e.required||(t=!0,!1)})),t},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),(0,c.getPropByPath)(e,t,!0).v}},_formSize:function(){return this.tuForm.size},tuFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.tuFormItemSize||(this.$TUVIEW||{}).size}},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e},rules:function(e){e&&0!==e.length||void 0!==this.required||this.clearValidate()}},mounted:function(){if(this.prop){this.dispatch("TuForm","tu.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("TuForm","tu.form.removeField",[this])},methods:{validate:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,i=this.getFilteredRule(e);if((!i||0===i.length)&&void 0===this.required)return r(),!0;this.validateState="validating";var n={};i&&i.length>0&&i.forEach((function(e){delete e.trigger})),n[this.prop]=i;var o=new l.default(n),a={};a[this.prop]=this.fieldValue,o.validate(a,{firstFields:!0},(function(e,i){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",r(t.validateMessage,i),t.tuForm&&t.tuForm.$emit("validate",t.prop,!e,t.validateMessage||null)}))},getRules:function(){var e=this.form.rules,t=this.rules,r=void 0!==this.required?{required:!!this.required}:[],i=(0,c.getPropByPath)(e,this.prop||"");return e=e?i.o[this.prop||""]||i.v:[],[].concat(t||e||[]).concat(r)},getFilteredRule:function(e){return this.getRules().filter((function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)})).map((function(e){return(0,p.default)({},e)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,r=this.fieldValue,i=this.prop;-1!==i.indexOf(":")&&(i=i.replace(/:/,"."));var n=(0,c.getPropByPath)(t,i,!0);this.validateDisabled=!0,Array.isArray(r)?n.o[n.k]=[].concat(this.initialValue):n.o[n.k]=this.initialValue,this.$nextTick((function(){e.validateDisabled=!1})),this.broadcast("TuTimeSelect","fieldReset",this.initialValue)},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){console.log("onFieldChange"),this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?"".concat(e,"px"):""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("tu.form.blur",this.onFieldBlur),this.$on("tu.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}}};e.default=v})?i.apply(t,n):i)||(e.exports=o)},214:function(e,t,r){"use strict";r.r(t);var i=r(215),n=r.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);t.default=n.a},215:function(e,t,r){var i,n,o;r(0),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t],void 0===(o="function"==typeof(i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["tuForm","tuFormItem"],data:function(){return{computedWidth:0}},watch:{computedWidth:function(e,t){this.updateAll&&(this.tuForm.registerLabelWidth(e,t),this.tuFormItem.updateComputedLabelWidth(e))}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")},methods:{updateLabelWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.tuForm.deregisterLabelWidth(this.computedWidth))},getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0}},render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var r=this.tuForm.autoLabelWidth,i={};if(r&&"auto"!==r){var n=parseInt(r,10)-this.computedWidth;n&&(i.marginLeft=n+"px")}return e("div",{class:"tu-form-item__label-wrap",style:i},[t])}return t[0]}};e.default=t})?i.apply(t,n):i)||(e.exports=o)},22:function(e,t,r){var i,n,o;r(0),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(7)],void 0===(o="function"==typeof(i=function(e,t){"use strict";function r(e,t,i){this.$children.forEach((function(n){n.$options.componentName===e?n.$emit.apply(n,[t].concat(i)):r.apply(n,[e,t].concat([i]))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={methods:{dispatch:function(e,t,r){for(var i=this.$parent||this.$root,n=i.$options.componentName;i&&(!n||n!==e);)(i=i.$parent)&&(n=i.$options.componentName);i&&i.$emit.apply(i,[t].concat(r))},broadcast:function(e,t,i){r.call(this,e,t,i)}}};e.default=i})?i.apply(t,n):i)||(e.exports=o)},23:function(e,t,r){var i,n,o;r(0),r(8),r(11),r(9),r(10),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(6),r(24),r(3)],void 0===(o="function"==typeof(i=function(e,t,r,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=e.isDefined=void 0,e.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},e.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},e.isUndefined=void 0,i=(o=i)&&o.__esModule?o:{default:o};var a=function(e){return e&&"[object Function]"==={}.toString.call(e)};e.isFunction=a,"object"===("undefined"==typeof Int8Array?"undefined":n(Int8Array))||!i.default.prototype.$isServer&&"function"==typeof document.childNodes||(e.isFunction=a=function(e){return"function"==typeof e||!1}),e.isUndefined=function(e){return void 0===e},e.isDefined=function(e){return null!=e}})?i.apply(t,n):i)||(e.exports=o)},24:function(e,t){e.exports=require("core-js/modules/es6.typed.int8-array.js")},27:function(e,t,r){var i,n,o;r(0),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t],void 0===(o="function"==typeof(i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){for(var t=1,r=arguments.length;t<r;t++){var i=arguments[t]||{};for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];void 0!==o&&(e[n]=o)}}return e}})?i.apply(t,n):i)||(e.exports=o)},3:function(t,r){t.exports=e},4:function(e,t){e.exports=require("core-js/modules/es6.array.index-of.js")},400:function(e,t,r){"use strict";var i=r(483);r.o(i,"render")&&r.d(t,"render",(function(){return i.render})),r.o(i,"staticRenderFns")&&r.d(t,"staticRenderFns",(function(){return i.staticRenderFns}))},43:function(e,t){e.exports=require("core-js/modules/es6.array.every.js")},483:function(e,t,r){var i,n,o;r(0),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t],void 0===(o="function"==typeof(i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var t=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tu-form-item",class:[{"tu-form-item--feedback":e.tuForm&&e.tuForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.tuForm&&e.tuForm.hideRequiredAsterisk},e.sizeClass?"tu-form-item--"+e.sizeClass:""]},[t("label-wrap",{attrs:{isAutoWidth:e.labelStyle&&"auto"===e.labelStyle.width,updateAll:"auto"===e.form.labelWidth}},[e.label||e.$slots.label?t("label",{staticClass:"tu-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",(function(){return[e._v(e._s(e.label+e.form.labelSuffix))]}))],2):e._e()]),t("div",{staticClass:"tu-form-item__content",style:e.contentStyle},[e._t("default"),t("transition",{attrs:{name:"tu-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",(function(){return[t("div",{staticClass:"tu-form-item__error",class:{"tu-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.tuForm&&e.tuForm.inlineMessage||!1}},[e._v("\n\t\t\t\t\t"+e._s(e.validateMessage)+"\n\t\t\t\t")])]}),{error:e.validateMessage}):e._e()],2)],2)],1)};e.render=t,e.staticRenderFns=[],t._withStripped=!0})?i.apply(t,n):i)||(e.exports=o)},5:function(e,t){e.exports=require("core-js/modules/es6.number.constructor.js")},6:function(e,t){e.exports=require("core-js/modules/es6.object.to-string.js")},615:function(e,t,r){var i,n,o;r(0),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[t,r(2),r(616)],void 0===(o="function"==typeof(i=function(e,t,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(i=r,r=i&&i.__esModule?i:{default:i}).default.install=function(e){e.component(r.default.name,r.default)};var n=r.default;e.default=n})?i.apply(t,n):i)||(e.exports=o)},616:function(e,t,r){"use strict";r.r(t);var i=r(400),n=r(212);for(var o in n)["default"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(o);var a=r(1),u=Object(a.a)(n.default,i.render,i.staticRenderFns,!1,null,null,null);t.default=u.exports},617:function(e,t){e.exports=require("async-validator")},618:function(e,t,r){"use strict";r.r(t);var i=r(214);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);var o=r(1),a=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);t.default=a.exports},7:function(e,t){e.exports=require("core-js/modules/es6.array.for-each.js")},8:function(e,t){e.exports=require("core-js/modules/es6.symbol.js")},9:function(e,t){e.exports=require("core-js/modules/es6.array.iterator.js")}}).default}));
//# sourceMappingURL=index.js.map